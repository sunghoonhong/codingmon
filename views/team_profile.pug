extends layout

block content
  if teamError
    .error-message= teamError
    
  if user.id==team.mgr_id
    .menu
      a.btn(href='/team/profile/'+tname) 팀 정보
      a.btn(href='/team/request/'+tname) 구인중인 의뢰
      a.btn(href='/team/possible/'+tname) 신청 가능한 의뢰
      a.btn(href='/team/waiting/'+tname) 신청한 의뢰
      a.btn(href='/team/working/'+tname) 진행 중인 의뢰
      a.btn(href='/team/accepted/'+tname) 요청수락된 의뢰

  h3
    label(for='tname') 팀 이름
    div#tname= team.tname

    label(for='mgr_id') 팀장 ID
    div#mgr_id= team.mgr_id

    label(for='career') 경력
    div#career= team.career

  h3 팀 멤버
  table
    tr
      th 멤버 ID
      th 추방
    for member in members
      tr
        td
          a(href=`/profile/${member.fid}`)= member.fid
        td
          if member.fid == team.mgr_id
            |팀장
            -continue
          form(action='/team/ban' method='post')
            input(type='hidden' name='tname' value=team.tname)
            input(type='hidden' name='banId' value=member.fid)
            button.btn(type='submit') X
  if user.type=='admin' || user.id==team.mgr_id
    h4 팀원 초대
    form(action='/team/invite' method='post')
      input(type='hidden' name='tname' value=team.tname)
      input(name='inviteId' value required)
      button.btn(type='submit') 초대
      
  h3 팀 삭제
  form(action='/team/delete' method='post')
    input(type='hidden' name='tname' value=team.tname)
    button.btn(type='submit') 삭제